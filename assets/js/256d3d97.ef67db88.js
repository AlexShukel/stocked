"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[615],{8215:function(t,e,n){var o=n(7294);e.Z=function(t){var e=t.children,n=t.hidden,a=t.className;return o.createElement("div",{role:"tabpanel",hidden:n,className:a},e)}},6396:function(t,e,n){n.d(e,{Z:function(){return p}});var o=n(7462),a=n(7294),l=n(2389),r=n(9443);var i=function(){var t=(0,a.useContext)(r.Z);if(null==t)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return t},s=n(9521),u=n(6010),c="tabItem_1uMI";function d(t){var e,n,o,l=t.lazy,r=t.block,d=t.defaultValue,p=t.values,m=t.groupId,f=t.className,k=a.Children.map(t.children,(function(t){if((0,a.isValidElement)(t)&&void 0!==t.props.value)return t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof t.type?t.type:t.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=p?p:k.map((function(t){var e=t.props;return{value:e.value,label:e.label}})),v=(0,s.lx)(h,(function(t,e){return t.value===e.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(t){return t.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===d?d:null!=(e=null!=d?d:null==(n=k.find((function(t){return t.props.default})))?void 0:n.props.value)?e:null==(o=k[0])?void 0:o.props.value;if(null!==g&&!h.some((function(t){return t.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+h.map((function(t){return t.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=i(),T=b.tabGroupChoices,y=b.setTabGroupChoices,x=(0,a.useState)(g),w=x[0],A=x[1],I=[],S=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var N=T[m];null!=N&&N!==w&&h.some((function(t){return t.value===N}))&&A(N)}var j=function(t){var e=t.currentTarget,n=I.indexOf(e),o=h[n].value;o!==w&&(S(e),A(o),null!=m&&y(m,o))},L=function(t){var e,n=null;switch(t.key){case"ArrowRight":var o=I.indexOf(t.currentTarget)+1;n=I[o]||I[0];break;case"ArrowLeft":var a=I.indexOf(t.currentTarget)-1;n=I[a]||I[I.length-1]}null==(e=n)||e.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":r},f)},h.map((function(t){var e=t.value,n=t.label;return a.createElement("li",{role:"tab",tabIndex:w===e?0:-1,"aria-selected":w===e,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":w===e}),key:e,ref:function(t){return I.push(t)},onKeyDown:L,onFocus:j,onClick:j},null!=n?n:e)}))),l?(0,a.cloneElement)(k.filter((function(t){return t.props.value===w}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},k.map((function(t,e){return(0,a.cloneElement)(t,{key:e,hidden:t.props.value!==w})}))))}function p(t){var e=(0,l.Z)();return a.createElement(d,(0,o.Z)({key:String(e)},t))}},1445:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return d},toc:function(){return p},default:function(){return f}});var o=n(7462),a=n(3366),l=(n(7294),n(3905)),r=n(6396),i=n(8215),s=["components"],u={sidebar_position:3},c="Create state",d={unversionedId:"tutorial/create-state",id:"tutorial/create-state",isDocsHomePage:!1,title:"Create state",description:"In this part you'll learn how to create stocked state in your components",source:"@site/docs/tutorial/create-state.mdx",sourceDirName:"tutorial",slug:"/tutorial/create-state",permalink:"/stocked/docs/tutorial/create-state",editUrl:"https://github.com/ArtiomTr/stocked/edit/master/website/docs/tutorial/create-state.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Initialize project",permalink:"/stocked/docs/tutorial/initialize"},next:{title:"Update state",permalink:"/stocked/docs/tutorial/update-state"}},p=[{value:"Initial state",id:"initial-state",children:[],level:2},{value:"Display todos",id:"display-todos",children:[],level:2},{value:"Intermediate result",id:"intermediate-result",children:[],level:2}],m={toc:p};function f(t){var e=t.components,u=(0,a.Z)(t,s);return(0,l.kt)("wrapper",(0,o.Z)({},m,u,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"create-state"},"Create state"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"In this part you'll learn how to create stocked state in your components")),(0,l.kt)("h2",{id:"initial-state"},"Initial state"),(0,l.kt)("p",null,"Let's provide initial state for the stock root component"),(0,l.kt)(r.Z,{defaultValue:"js",groupId:"language",values:[{label:"JavaScript",value:"js"},{label:"TypeScript",value:"ts"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"js",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title=./src/App.jsx",title:"./src/App.jsx"},"import { StockRoot } from 'stocked';\n\nfunction App() {\n    return (\n        <StockRoot\n            initialValues={{\n                // highlight-start\n                todos: [\n                    {\n                        title: 'Display todos',\n                        completed: false,\n                    },\n                    {\n                        title: 'Add the ability to mark completed todos',\n                        completed: false,\n                    },\n                    {\n                        title: 'Add possibility to create new todo',\n                        completed: false,\n                    },\n                    {\n                        title: 'Filter todos',\n                        completed: false,\n                    },\n                    {\n                        title: 'Optimize',\n                        completed: false,\n                    },\n                ],\n                // highlight-end\n            }}\n        >\n            <h1>Todo list!</h1>\n        </StockRoot>\n    );\n}\n\nexport default App;\n"))),(0,l.kt)(i.Z,{value:"ts",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=./src/App.tsx",title:"./src/App.tsx"},"import { StockRoot } from 'stocked';\n\n// highlight-start\nexport type TodoItemData = {\n    title: string;\n    completed: boolean;\n};\n\ntype AppState = {\n    todos: TodoItemData[];\n};\n// highlight-end\n\nfunction App() {\n    return (\n        <StockRoot<AppState>\n            initialValues={{\n                // highlight-start\n                todos: [\n                    {\n                        title: 'Display todos',\n                        completed: false,\n                    },\n                    {\n                        title: 'Add the ability to mark completed todos',\n                        completed: false,\n                    },\n                    {\n                        title: 'Add possibility to create new todo',\n                        completed: false,\n                    },\n                    {\n                        title: 'Filter todos',\n                        completed: false,\n                    },\n                ],\n                // highlight-end\n            }}\n        >\n            <h1>Todo list!</h1>\n        </StockRoot>\n    );\n}\n\nexport default App;\n")))),(0,l.kt)("h2",{id:"display-todos"},"Display todos"),(0,l.kt)("p",null,"Now, we'll create a component - ",(0,l.kt)("inlineCode",{parentName:"p"},"TodoList.jsx"),". This component will render list of todo items."),(0,l.kt)(r.Z,{defaultValue:"js",groupId:"language",values:[{label:"JavaScript",value:"js"},{label:"TypeScript",value:"ts"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"js",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title=./src/TodoList.jsx",title:"./src/TodoList.jsx"},"import { useStockValue } from 'stocked';\nexport const TodoList = () => {\n    const todos = useStockValue('todos');\n\n    return (\n        <ul>\n            {todos.map(({ title }, key) => (\n                <li key={key}>{title}</li>\n            ))}\n        </ul>\n    );\n};\n"))),(0,l.kt)(i.Z,{value:"ts",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=./src/TodoList.tsx",title:"./src/TodoList.tsx"},"import { useStockValue } from 'stocked';\nimport { TodoItemData } from './App';\n\nexport const TodoList = () => {\n    const todos = useStockValue<TodoItemData[]>('todos');\n\n    return (\n        <ul>\n            {todos.map(({ title }, key) => (\n                <li key={key}>{title}</li>\n            ))}\n        </ul>\n    );\n};\n")))),(0,l.kt)("p",null,"As you can see, we're using array of todos from the stock. Every time when todos will be updated in the stock, our ",(0,l.kt)("inlineCode",{parentName:"p"},"TodoList")," component will re-render. Let's use this component in our app:"),(0,l.kt)(r.Z,{defaultValue:"js",groupId:"language",values:[{label:"JavaScript",value:"js"},{label:"TypeScript",value:"ts"}],mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"js",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title=./src/App.jsx",title:"./src/App.jsx"},"import { TodoList } from './TodoList';\n\n// ...\n\nfunction App() {\n    return (\n        <StockRoot\n            initialValues={{ /* ... */ }}\n        >\n            <h1>Todo list!</h1>\n            {/* highlight-next-line */}\n            <TodoList />\n        </StockRoot>\n    );\n}\n\nexport default App;\n"))),(0,l.kt)(i.Z,{value:"ts",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"title=./src/App.tsx",title:"./src/App.tsx"},"import { TodoList } from './TodoList';\n\n// ...\n\nfunction App() {\n    return (\n        <StockRoot<AppState>\n            initialValues={{ /* ... */ }}\n        >\n            <h1>Todo list!</h1>\n            {/* highlight-next-line */}\n            <TodoList />\n        </StockRoot>\n    );\n}\n\nexport default App;\n")))),(0,l.kt)("h2",{id:"intermediate-result"},"Intermediate result"),(0,l.kt)("p",null,"And this is what we have at the moment:"),(0,l.kt)("p",{align:"center"},(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Result",src:n(5451).Z}))),(0,l.kt)("p",null,"Let's move on."))}f.isMDXComponent=!0},5451:function(t,e,n){e.Z=n.p+"assets/images/tutorial-create-state-result-3632df8f68175d3729641e4c7cde90ea.jpg"}}]);